#!/usr/bin/env python

import argparse
from jsonutils.jbro import jbro

if __name__ == '__main__':
    parser = argparse.ArgumentParser(description='JSON browsing utility')
    parser.add_argument('filename', help='filename of JSON file')

    parser.add_argument('-q', '--quiet', action='store_true',
                        help='suppress output description')

    parser.add_argument('-d', '--describe', action='store_true',
                        help='describe structure of file')
    parser.add_argument('-s', '--sample', type=int, 
                        help='sample n (key, value) pairs from file')
    parser.add_argument('-c', '--chars', type=int, 
                        help='sample n chars from file')
    parser.add_argument('-f', '--find',
                        help='find given key, nesting in form key1.key2')
    parser.add_argument('-F', '--find-recursive',
                        help='find given key recursively (i.e. all occurrences)')
    parser.add_argument('-l', '--less', action='store_true',
                        help='pipe pretty print of file to less')

    args = parser.parse_args()
    jbro.main(args)
